---
import PricingCard from './PricingCard.svelte';
import type { Locale } from '../i18n/translations';
import { t } from '../i18n/translations';

interface Props {
  lang?: Locale;
}

const { lang = 'cs' } = Astro.props;
const i18n = t(lang);

interface PricingItem {
  title: string;
  price: string;
  popupContent: string;
  features: string[];
}

const pricing: PricingItem[] = [
  {
    title: i18n.pricingWindowTitle,
    price: i18n.pricingWindowPrice,
    popupContent: i18n.pricingWindowDesc,
    features: [i18n.pricingWindowFeature1, i18n.pricingWindowFeature2],
  },
  {
    title: i18n.pricingStorefrontTitle,
    price: i18n.pricingStorefrontPrice,
    popupContent: i18n.pricingStorefrontDesc,
    features: [i18n.pricingStorefrontFeature1, i18n.pricingStorefrontFeature2],
  },
  {
    title: i18n.pricingHighAltTitle,
    price: i18n.pricingHighAltPrice,
    popupContent: i18n.pricingHighAltDesc,
    features: [i18n.pricingHighAltFeature1, i18n.pricingHighAltFeature2],
  },
];
---

<section class="pricing">
  <div class="pricing-inner">
    <div class="pricing-grid">
      {pricing.map((item, i) => (
        <PricingCard
          client:visible
          title={item.title}
          price={item.price}
          popupContent={item.popupContent}
          features={item.features}
          buttonLabel={i18n.pricingOrderButton}
          featured={i === 1}
        />
      ))}
    </div>
  </div>
</section>

<style>
  .pricing {
    padding: var(--section-gap) 15px;
  }

  .pricing-inner {
    max-width: var(--container-max-width);
    margin: 0 auto;
  }

  .pricing-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1.5rem;
  }

  @media (max-width: 768px) {
    .pricing-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
